@model ImagemModel
@{
    ViewBag.Subtitulo = $"Aplicação de Efeito";
}

<form asp-action="AplicarEfeito" method="post">
    <input type="hidden" name="id" value="@Model.IdImagem">

    <div class="mt-3">
        <img class="img-thumbnail" width="300" src='@Model.CaminhoImagem' id="imgAtual">
    </div>

    <div class="form-group mt-3">
        <button class="btn btn-sm btn-outline-success" asp-route-efeito="rdireita" asp-action="AplicarEfeito" asp-controller="Imagem" title="Rotacionar à Direita">
            <i class="bi bi-arrow-clockwise"></i>
        </button>

        <button class="btn btn-sm btn-outline-success" asp-route-efeito="resquerda" asp-action="AplicarEfeito" asp-controller="Imagem" title="Rotacionar à Esquerda">
            <i class="bi bi bi-arrow-counterclockwise"></i>
        </button>

        <button class="btn btn-sm btn-outline-success" asp-route-efeito="ihorizontal" asp-action="AplicarEfeito" asp-controller="Imagem" title="Inverter Horizontalmente">
            <i class="bi bi-arrow-left-right"></i>
        </button>

        <button class="btn btn-sm btn-outline-success" asp-route-efeito="ivertical" asp-action="AplicarEfeito" asp-controller="Imagem" title="Inverter Verticalmente">
            <i class="bi bi-arrow-down-up"></i>
        </button>

        <button class="btn btn-sm btn-outline-dark" asp-route-efeito="ecinza" asp-action="AplicarEfeito" asp-controller="Imagem" title="Escala de Cinza">
            <i class="bi bi-image-alt"></i>
        </button>

        <button class="btn btn-sm btn-outline-dark" asp-route-efeito="sepia" asp-action="AplicarEfeito" asp-controller="Imagem" title="Sépia">
            <i class="bi bi-funnel"></i>
        </button>

        <button class="btn btn-sm btn-outline-dark" asp-route-efeito="negativo" asp-action="AplicarEfeito" asp-controller="Imagem" title="Negativo">
            <i class="bi bi-file-image-fill"></i>
        </button>

        <button class="btn btn-sm btn-outline-dark" asp-route-efeito="desfoque" asp-action="AplicarEfeito" asp-controller="Imagem" title="Desfoque">
            <i class="bi bi-eraser"></i>
        </button>
    </div>
</form>

<div class="form-group mt-3">
    <a class="btn btn-outline-success" asp-action="Index" asp-route-id="@Model.IdGaleria">Voltar</a>
</div>


@section Scripts {
<script>
    document.addEventListener('DOMContentLoaded', function (e) 
        {
            var img = document.querySelector('#imgAtual');
            img.src = img.src + '?' new Date().getTime();
        });
</script>
}

